(function(e){function t(t){for(var n,l,s=t[0],a=t[1],r=t[2],u=0,b=[];u<s.length;u++)l=s[u],Object.prototype.hasOwnProperty.call(c,l)&&c[l]&&b.push(c[l][0]),c[l]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);d&&d(t);while(b.length)b.shift()();return i.push.apply(i,r||[]),o()}function o(){for(var e,t=0;t<i.length;t++){for(var o=i[t],n=!0,s=1;s<o.length;s++){var a=o[s];0!==c[a]&&(n=!1)}n&&(i.splice(t--,1),e=l(l.s=o[0]))}return e}var n={},c={app:0},i=[];function l(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,l),o.l=!0,o.exports}l.m=e,l.c=n,l.d=function(e,t,o){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(l.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(o,n,function(t){return e[t]}.bind(null,n));return o},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],a=s.push.bind(s);s.push=t,s=s.slice();for(var r=0;r<s.length;r++)t(s[r]);var d=a;i.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"04ce":function(e,t,o){"use strict";o("8942")},"0abb":function(e,t,o){},"1f99":function(e,t,o){"use strict";o("80b7")},"233d":function(e,t,o){},"38b9":function(e,t,o){},"41e6":function(e,t,o){"use strict";o("a4d1")},"4d83":function(e,t,o){},"4de0":function(e,t,o){"use strict";o("86d3")},5143:function(e,t,o){},"524f":function(e,t,o){},5340:function(e,t,o){"use strict";o("8f78")},"56d7":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("7a23");function c(e,t,o,c,i,l){var s=Object(n["t"])("tool-bar"),a=Object(n["t"])("uploader"),r=Object(n["t"])("control-balls"),d=Object(n["t"])("msgbar"),u=Object(n["t"])("note"),b=Object(n["t"])("fixed-components"),h=Object(n["t"])("anchors");return Object(n["o"])(),Object(n["g"])(n["a"],null,[Object(n["h"])("div",{class:Object(n["m"])(["dark-filter",{darken:i.isDarkMode}])},null,2),Object(n["k"])(s,{isTouchMode:i.isTouchMode},null,8,["isTouchMode"]),Object(n["k"])(a),Object(n["k"])(r,{isDarkMode:i.isDarkMode,isTouchMode:i.isTouchMode,isFullscreen:i.isFullscreen,onToggleDarkMode:t[0]||(t[0]=function(e){return i.isDarkMode=!i.isDarkMode}),onToggleTouchMode:t[1]||(t[1]=function(e){return i.isTouchMode=!i.isTouchMode}),onToggleFullscreen:t[2]||(t[2]=function(e){return i.isFullscreen=!i.isFullscreen})},null,8,["isDarkMode","isTouchMode","isFullscreen"]),Object(n["k"])(d),Object(n["k"])(u,{isFullscreen:i.isFullscreen,isTouchMode:i.isTouchMode},null,8,["isFullscreen","isTouchMode"]),Object(n["k"])(b),Object(n["k"])(h)],64)}var i=function(e){return Object(n["q"])("data-v-5bdf086e"),e=e(),Object(n["p"])(),e},l={class:"anchors-outer"},s={class:"titlebar shadow-4"},a={class:"closer circle"},r=i((function(){return Object(n["h"])("h1",null,"笔记摘要",-1)})),d={class:"anchors-view-outer"},u={class:"load-mask"};function b(e,t,o,c,i,b){var h=Object(n["t"])("anchors-view");return Object(n["o"])(),Object(n["g"])("div",l,[Object(n["h"])("div",{class:Object(n["m"])(["fullscreen-mask",{disabled:i.disabled}]),onClick:t[0]||(t[0]=function(){return b.close&&b.close.apply(b,arguments)})},null,2),Object(n["h"])("div",{class:Object(n["m"])(["drawer",{disabled:i.disabled}])},[Object(n["h"])("div",s,[Object(n["h"])("div",a,[Object(n["h"])("i",{class:"material-icons arrow-forward",onClick:t[1]||(t[1]=function(){return b.close&&b.close.apply(b,arguments)})},"arrow_forward"),Object(n["h"])("i",{class:"material-icons arrow-upward",onClick:t[2]||(t[2]=function(){return b.close&&b.close.apply(b,arguments)})},"arrow_upward")]),r]),Object(n["h"])("div",d,[Object(n["y"])(Object(n["k"])(h,{class:"anchors-view",list:i.anchorList},null,8,["list"]),[[n["w"],i.anchorsViewShow]])]),Object(n["y"])(Object(n["h"])("div",u,null,512),[[n["w"],i.loading]])],2)])}var h=o("2909"),f=o("b85c"),p=(o("d81d"),o("1344")),j=new p["a"],O={data:function(){return{disabled:!0,anchorsViewShow:!1,loading:!0,anchorList:[]}},components:{AnchorsView:{props:["list"],render:function(){var e=this.list.map((function(e){return Object(n["l"])("a",{level:e.level,href:"#"+e.content},e.content)}));return Object(n["l"])("div",e)}}},inject:["note"],methods:{getAnchors:function(e,t,o){var n,c=[],i=Object(f["a"])(e);try{for(i.s();!(n=i.n()).done;){var l=n.value;if("h"==l.NT)c.push({content:l.CT,level:t});else if("floor"==l.NT){var s=this.getAnchors(l.CTS,t+1);c.push.apply(c,Object(h["a"])(s))}}}catch(a){i.e(a)}finally{i.f()}if(1!=t)return c;o(c)},close:function(){this.disabled=!0,this.anchorsViewShow=!1}},mounted:function(){var e=this;j.on("open-anchors",(function(){e.disabled=!1,setTimeout((function(){e.anchorsViewShow=!0}),1200),e.getAnchors(e.note.CTS,1,(function(t){e.anchorList=t,e.loading=!1}))}))}},v=(o("7564"),o("6b0d")),m=o.n(v);const g=m()(O,[["render",b],["__scopeId","data-v-5bdf086e"]]);var T=g,N=(o("caad"),function(e){return Object(n["q"])("data-v-30480186"),e=e(),Object(n["p"])(),e}),y={class:"toolbar shadow-3"},C=N((function(){return Object(n["h"])("i",{class:"logo material-icons shadow-2"},"format_list_bulleted",-1)})),k={class:"tools"},w=N((function(){return Object(n["h"])("i",{class:"material-icons"},"add",-1)})),S=[w],L=N((function(){return Object(n["h"])("i",{class:"material-icons"},"remove",-1)})),x=[L],M=N((function(){return Object(n["h"])("i",{class:"material-icons"},"indeterminate_check_box",-1)})),_=[M],F=N((function(){return Object(n["h"])("i",{class:"material-icons"},"grid_on",-1)})),D=[F],$=N((function(){return Object(n["h"])("i",{class:"material-icons"},"color_lens",-1)})),A=[$],E=N((function(){return Object(n["h"])("i",{class:"material-icons"},"clear_all",-1)})),I=[E],B=N((function(){return Object(n["h"])("i",{class:"material-icons"},"cloud_upload",-1)})),U=[B],V=N((function(){return Object(n["h"])("i",{class:"material-icons"},"vertical_align_bottom",-1)})),G=[V],q={class:"material-icons file"},R=Object(n["j"])("input "),P={ref:"fileUploader",type:"file",accept:"application/json"};function J(e,t,o,c,i,l){return Object(n["o"])(),Object(n["g"])("div",y,[C,Object(n["h"])("div",k,[Object(n["h"])("div",{class:Object(n["m"])(["tool btn btn-shallow",{disabled:!l.selectedNode.location||"td"==l.selectedNode.tagName}]),onClick:t[0]||(t[0]=function(){return l.openTextfield&&l.openTextfield.apply(l,arguments)})},S,2),Object(n["h"])("div",{class:Object(n["m"])(["tool btn btn-shallow",{disabled:!l.selectedNode.location||"td"==l.selectedNode.tagName}]),onClick:t[1]||(t[1]=function(){return l.deleteNode&&l.deleteNode.apply(l,arguments)})},x,2),Object(n["y"])(Object(n["h"])("div",{class:Object(n["m"])(["tool btn btn-shallow",{disabled:!l.selectedNode.location}]),onClick:t[2]||(t[2]=function(){return l.nodeCancelSelect&&l.nodeCancelSelect.apply(l,arguments)})},_,2),[[n["w"],o.isTouchMode]]),Object(n["h"])("div",{class:Object(n["m"])(["tool btn btn-shallow",{disabled:"table"!=l.selectedNode.type}]),onClick:t[3]||(t[3]=function(){return l.openTableSet&&l.openTableSet.apply(l,arguments)})},D,2),Object(n["h"])("div",{class:Object(n["m"])(["tool btn btn-shallow",{disabled:!["basic-node","list-item"].includes(l.selectedNode.type)}]),onClick:t[4]||(t[4]=function(){return l.openColors&&l.openColors.apply(l,arguments)})},A,2),Object(n["h"])("div",{class:"tool btn btn-shallow",onClick:t[5]||(t[5]=function(){return l.clearNodes&&l.clearNodes.apply(l,arguments)})},I),Object(n["h"])("div",{class:"tool btn btn-shallow",onClick:t[6]||(t[6]=function(){return l.openUploader&&l.openUploader.apply(l,arguments)})},U),Object(n["h"])("div",{class:"tool btn btn-shallow",onClick:t[7]||(t[7]=function(){return l.saveNote&&l.saveNote.apply(l,arguments)})},G),Object(n["h"])("div",{class:"tool btn btn-shallow",onClick:t[8]||(t[8]=function(){return l.readNote&&l.readNote.apply(l,arguments)})},[Object(n["h"])("i",q,[R,Object(n["h"])("input",P,null,512)])])])])}o("a434"),o("e9c4");var H={inject:["note"],computed:{getThisObj:function(){var e;if(this.location)return this.getNodeObj({location:this.location,callback:function(t,o){e=t[o]}}),e}},methods:{getNodeObj:function(e){var t=e.parentObj,o=void 0===t?this.note:t,n=e.location,c=e.num,i=void 0===c?0:c,l=e.callback;i==n.length-1?l&&l(o.CTS,n[i]):this.getNodeObj({parentObj:o.CTS[n[i]],location:n,num:i+1,callback:l})}}};const z=H;var K=z,Q=o("21a6"),W=o.n(Q),X={props:["isTouchMode"],inject:["note","selectedNode"],mixins:[K],mounted:function(){var e=this,t=this.$refs.fileUploader;t.addEventListener("change",(function(){var o=new FileReader;o.readAsText(t.files[0],"uft8"),o.onload=function(t){var o=t.target.result;e.note.CTS=JSON.parse(o)}})),j.on("textfield-return-toolBar",(function(t){e.insertNode(t)}))},methods:{openTextfield:function(){j.emit("note-offset"),j.emit("textfield-open","toolBar")},insertNode:function(e){if(e){var t=this.selectedNode.location;t&&this.getNodeObj({location:t,callback:function(t,o){t.splice(o+1,0,e)}})}},deleteNode:function(){var e=this.selectedNode.location;this.selectedNode.location=null,this.selectedNode.type=null,this.selectedNode.tagName=null,this.getNodeObj({location:e,callback:function(e,t){e.splice(t,1)}})},nodeCancelSelect:function(){this.getNodeObj({location:this.selectedNode.location,callback:function(e,t){e[t].SL=!1}}),this.selectedNode.tagName=null,this.selectedNode.location=null,this.selectedNode.type=null},openTableSet:function(){this.tableSetter=!0,j.emit("note-offset"),j.emit("tableSetter-open")},openColors:function(){j.emit("colors-open"),j.emit("note-offset")},clearNodes:function(){this.note.CTS=[]},openUploader:function(){j.emit("open-uploader")},saveNote:function(){var e=new Blob([JSON.stringify(this.note.CTS)],{type:"text/plain;charset=utf-8"});W()(e,"myNote.json")},readNote:function(){var e=this.$refs.fileUploader;e.click()}}};o("780f");const Y=m()(X,[["render",J],["__scopeId","data-v-30480186"]]);var Z=Y,ee=function(e){return Object(n["q"])("data-v-08f4932b"),e=e(),Object(n["p"])(),e},te={class:"uploader shadow-16"},oe=ee((function(){return Object(n["h"])("i",{class:"material-icons"},"close",-1)})),ne=[oe],ce={class:"note-view-outer"},ie={class:"note-view"},le={class:"input-group"},se={class:"buttons shadow-3"},ae=ee((function(){return Object(n["h"])("i",{class:"material-icons"},"cloud_upload",-1)})),re=[ae],de=ee((function(){return Object(n["h"])("i",{class:"material-icons"},"file_download",-1)})),ue=[de],be=ee((function(){return Object(n["h"])("i",{class:"material-icons"},"create_new_folder",-1)})),he=[be],fe=ee((function(){return Object(n["h"])("i",{class:"material-icons"},"delete_forever",-1)})),pe=[fe];function je(e,t,o,c,i,l){var s=Object(n["t"])("textfield-group"),a=Object(n["t"])("uploader-list");return Object(n["o"])(),Object(n["g"])("div",{class:Object(n["m"])(["uploader-outer fullscreen-mask",{disabled:i.disabled}])},[Object(n["h"])("div",te,[Object(n["h"])("div",{class:"closer shadow-1",onClick:t[0]||(t[0]=function(e){return i.disabled=!0})},ne),Object(n["h"])("div",ce,[Object(n["h"])("div",ie,[Object(n["k"])(a,{onFileSelect:l.select,list:i.noteList,ref:"uploaderList"},{default:Object(n["x"])((function(){return[Object(n["k"])(s,{onReturnNode:e.creatFolder,isAdding:i.addingFolder,ref:"textfieldGroup"},null,8,["onReturnNode","isAdding"])]})),_:1},8,["onFileSelect","list"])])]),Object(n["h"])("div",le,[Object(n["y"])(Object(n["h"])("input",{class:"inputter",type:"text",placeholder:"笔记名","onUpdate:modelValue":t[1]||(t[1]=function(e){return l.note.NM=e})},null,512),[[n["v"],l.note.NM]]),Object(n["y"])(Object(n["h"])("input",{class:"inputter",type:"password",placeholder:"密码","onUpdate:modelValue":t[2]||(t[2]=function(e){return i.password=e})},null,512),[[n["v"],i.password]])]),Object(n["h"])("div",se,[Object(n["h"])("div",{class:"btn btn-shallow",onClick:t[3]||(t[3]=function(){return e.upload&&e.upload.apply(e,arguments)})},re),Object(n["h"])("div",{class:"btn btn-shallow",onClick:t[4]||(t[4]=function(){return e.download&&e.download.apply(e,arguments)})},ue),Object(n["h"])("div",{class:"btn btn-shallow",onClick:t[5]||(t[5]=function(){return l.toCreatFolder&&l.toCreatFolder.apply(l,arguments)})},he),Object(n["h"])("div",{class:"btn btn-shallow",onClick:t[6]||(t[6]=function(){return e.deleteFile&&e.deleteFile.apply(e,arguments)})},pe)])])],2)}var Oe=o("53ca"),ve=function(e){return Object(n["q"])("data-v-24c9db38"),e=e(),Object(n["p"])(),e},me={key:0},ge=ve((function(){return Object(n["h"])("div",{class:"no-note"},"暂无笔记",-1)})),Te=[ge],Ne={class:"note-list",ref:"noteList"},ye={key:0},Ce=["data-location"],ke={class:"item-content"},we={class:"folder"},Se=["data-location"],Le=ve((function(){return Object(n["h"])("i",{class:"item-avatar material-icons"},"assignment",-1)})),xe={class:"item-content"},Me=["data-location"],_e=ve((function(){return Object(n["h"])("i",{class:"item-avatar material-icons"},"assignment",-1)})),Fe={class:"item-content"};function De(e,t,o,c,i,l){return Object(n["o"])(),Object(n["g"])(n["a"],null,[o.list.length?Object(n["f"])("",!0):(Object(n["o"])(),Object(n["g"])("div",me,Te)),Object(n["h"])("ul",Ne,[(Object(n["o"])(!0),Object(n["g"])(n["a"],null,Object(n["r"])(o.list,(function(e,o){return Object(n["o"])(),Object(n["g"])(n["a"],{key:e.id},["object"==Object(Oe["a"])(e)?(Object(n["o"])(),Object(n["g"])("div",ye,[Object(n["h"])("div",{class:"folder-name",onClick:t[1]||(t[1]=function(){return l.showToggle&&l.showToggle.apply(l,arguments)}),"data-location":o},[Object(n["h"])("i",{class:"item-avatar material-icons",onClick:t[0]||(t[0]=Object(n["z"])((function(){return l.select&&l.select.apply(l,arguments)}),["stop"]))},"folder_open"),Object(n["h"])("span",ke,Object(n["u"])(e[0]),1)],8,Ce),Object(n["h"])("ul",we,[(Object(n["o"])(!0),Object(n["g"])(n["a"],null,Object(n["r"])(e[1],(function(e,c){return Object(n["o"])(),Object(n["g"])("li",{class:"folder-item",key:e.id,onClick:t[2]||(t[2]=function(){return l.select&&l.select.apply(l,arguments)}),"data-location":[o,c]},[Le,Object(n["h"])("span",xe,Object(n["u"])(e),1)],8,Se)})),128))])])):(Object(n["o"])(),Object(n["g"])("li",{key:1,"data-location":o,class:"list-item",onClick:t[3]||(t[3]=function(){return l.select&&l.select.apply(l,arguments)})},[_e,Object(n["h"])("span",Fe,Object(n["u"])(e),1)],8,Me))],64)})),128)),Object(n["s"])(e.$slots,"default",{},void 0,!0)],512)],64)}var $e={props:["list"],emits:["file-select"],data:function(){return{selected:{loc:"",type:""},lastSelectedNode:null}},methods:{showToggle:function(e){var t=e.target,o=t.nextSibling;o.style.maxHeight?o.style.maxHeight=null:o.style.maxHeight=o.scrollHeight+"px"},select:function(e){var t=e.target;"I"==t.tagName?(t=t.parentNode,this.selected.type="folder"):this.selected.type="file";var o=t.dataset["location"];this.selected.loc==o?(t.classList.remove("selected"),this.selected.loc="",this.selected.type="",this.lastSelectedNode=null,this.$emit("file-select",null)):(t.classList.add("selected"),this.lastSelectedNode&&this.lastSelectedNode.classList.remove("selected"),this.lastSelectedNode=t,this.selected.loc=o,this.$emit("file-select",this.selected))},selFolder:function(e){var t=this.$refs.noteList,o=t.children[e],n=o.querySelector("i");n.click()}}};o("92a9");const Ae=m()($e,[["render",De],["__scopeId","data-v-24c9db38"]]);var Ee=Ae,Ie={class:"selector",ref:"selector"},Be=Object(n["i"])('<option value="h">标题</option><option value="p">段落</option><option value="hr">割线</option><option value="floor">层次</option><option value="ol">序列</option><option value="ul">乱列</option><option value="table">表格</option><option value="details">详情</option>',8),Ue=[Be],Ve={class:"textfield",contenteditable:"true",ref:"inputter"},Ge=Object(n["h"])("i",{class:"material-icons"},"close",-1),qe=[Ge];function Re(e,t,o,c,i,l){return Object(n["o"])(),Object(n["g"])("div",{class:Object(n["m"])(["textfield-group shadow-2",{disabled:!o.isAdding}])},[Object(n["h"])("select",Ie,Ue,512),Object(n["h"])("div",Ve,null,512),Object(n["h"])("div",{class:"textfield-closer closer",onClick:t[0]||(t[0]=function(e){return l.closeNodeAdder()})},qe)],2)}var Pe=function(e,t){if(!t)return null;var o={NT:e,SL:!1};switch(e){case"h":case"p":case"li":o.CT=t,o.CL="#333";break;case"hr":break;case"floor":o.CTS=[{NT:"h",CT:t,CL:"#333",SL:!1}];break;case"ol":o.NT="list",o.CTS=[{NT:"li",CT:t,CL:"#333",SL:!1}],o.OL=!0;break;case"ul":o.NT="list",o.CTS=[{NT:"li",CT:t,CL:"#333",SL:!1}],o.OL=!1;break;case"table":o.CTS=[[t,"","",""],["","","",""]];break;case"details":o.SUM=t,o.CTS=[{CT:"",CL:"#333",SL:!1}];break}return o},Je={props:["isAdding"],emits:["return-node"],methods:{focus:function(){var e=this.$refs.inputter;e.focus()},closeNodeAdder:function(){var e=this.$refs.selector,t=this.$refs.inputter,o=e.value,n=t.innerText,c=Pe(o,n);this.$emit("return-node",c),t.blur(),t.innerText=""}}};const He=m()(Je,[["render",Re]]);var ze=He,Ke=(o("ac1f"),o("1276"),o("bc3a")),Qe=o.n(Ke),We={methods:{upload:function(){var e,t,o=this,n=this.note.NM;if(this.selected){e=this.selected.loc.split(",");var c=this.noteList[e[0]];if("object"==Object(Oe["a"])(c)){var i=this.noteList[e[0]];t=i[0]}}Qe.a.post("/api/upload",{note:JSON.stringify(this.note),location:e,noteName:n,folderName:t,password:this.password}).then((function(e){e.data.code?j.emit("show-msg",e.data.msg):(e.data.isNew&&(o.noteList=e.data.noteList),j.emit("show-msg","笔记上传请求成功。"))})).catch((function(e){console.warn(e),j.emit("show-msg","笔记上传请求失败。")}))},download:function(){var e=this;if(this.selected){var t=this.selected.loc.split(","),o=this.getData(t),n=this.noteList[t[0]];1!=t.length||"object"!=Object(Oe["a"])(n)?Qe.a.post("/api/download",{location:t,fileInfo:o,password:this.password}).then((function(o){if(o.data.code)5==o.data.code?(e.noteList=o.data.noteList,j.emit("show-msg",o.data.msg)):j.emit("show-msg",o.data.msg);else{j.emit("show-msg","笔记下载成功。");var n=confirm("将覆盖当前笔记，是否继续？");if(n){var c=o.data.noteContent,i=JSON.parse(c);e.note.NM=i.NM,e.note.CTS=i.CTS;var l=t[0];e.$refs.uploaderList.selFolder(l)}}})).catch((function(e){console.warn(e),j.emit("下载文件请求错误！")})):alert("不能下载文件夹。")}else alert("请选择文件！")},creatFolder:function(e){var t=this;if(this.addingFolder=!1,e){var o=e.CT;Qe.a.post("/api/create",{folderName:o,password:this.password}).then((function(e){e.data.code?j.emit("show-msg",e.data.msg):(j.emit("show-msg","文件夹创建成功。"),console.log(e.data.status),t.noteList=e.data.noteList)})).catch((function(e){console.warn(e),j.emit("创建文件夹请求错误。")}))}},deleteFile:function(){var e=this,t=confirm("此操作无法撤销，你确定吗？");if(t){var o=this.selected.loc.split(","),n=this.getData(o);Qe.a.post("/api/delete",{location:o,fileInfo:n,password:this.password}).then((function(t){t.data.code?5==t.data.code?(e.noteList=t.data.noteList,j.emit("show-msg",t.data.msg)):j.emit("show-msg",t.data.msg):(e.noteList=t.data.noteList,j.emit("show-msg","文件删除成功。"))})).catch((function(e){console.warn(e),j.emit("删除文件请求错误。")}))}}},mounted:function(){var e=this;j.on("open-uploader",(function(){if(e.disabled=!1,!e.noteList.length){var t=(new Date).getTime();Qe.a.get("/api/note-list?timestamp=".concat(t)).then((function(t){e.noteList=t.data.noteList}))}}))}};const Xe=We;var Ye=Xe,Ze=(o("99af"),{methods:{getData:function(e){var t,o,n=this.noteList[e[0]];if(2==e.length){t="file";var c=n[1],i=n[0],l=c[e[1]];o="".concat(i,"/").concat(l)}else"string"==typeof n?(t="file",o=n):"object"==Object(Oe["a"])(n)&&(t="folder",o=n[0]);return{type:t,name:o}}}});const et=Ze;var tt=et,ot={components:{UploaderList:Ee,TextfieldGroup:ze},mixins:[tt,Ye],inject:["note"],data:function(){return{disabled:!0,selected:null,addingFolder:!1,password:"",noteList:[]}},methods:{select:function(e){this.selected=e},toCreatFolder:function(){this.addingFolder=!0,this.$refs.textfieldGroup.focus()}}};o("d59f");const nt=m()(ot,[["render",je],["__scopeId","data-v-08f4932b"]]);var ct=nt,it=function(e){return Object(n["q"])("data-v-a975ec02"),e=e(),Object(n["p"])(),e},lt=it((function(){return Object(n["h"])("div",{class:"block"},[Object(n["h"])("div",{class:"mask"}),Object(n["h"])("i",{class:"material-icons"},"apps")],-1)})),st=it((function(){return Object(n["h"])("i",{class:"material-icons"},"subtitles",-1)})),at=[st],rt={class:"material-icons"},dt={class:"material-icons"},ut=it((function(){return Object(n["h"])("i",{class:"material-icons"},"touch_app",-1)})),bt=[ut],ht={class:"material-icons"},ft={class:"material-icons"};function pt(e,t,o,c,i,l){return Object(n["o"])(),Object(n["g"])("div",{class:Object(n["m"])(["controlballs",{fullscreen:o.isFullscreen}])},[lt,Object(n["h"])("div",{class:"ball btn",onClick:t[0]||(t[0]=function(){return l.openAnchors&&l.openAnchors.apply(l,arguments)})},at),Object(n["h"])("div",{class:"ball btn",onClick:t[1]||(t[1]=function(t){return e.$emit("toggle-darkMode")})},[Object(n["y"])(Object(n["h"])("i",rt,"brightness_2",512),[[n["w"],!o.isDarkMode]]),Object(n["y"])(Object(n["h"])("i",dt,"wb_sunny",512),[[n["w"],o.isDarkMode]])]),Object(n["h"])("div",{class:Object(n["m"])(["ball btn",{black:o.isTouchMode}]),onClick:t[2]||(t[2]=function(t){return e.$emit("toggle-touchMode")})},bt,2),Object(n["h"])("div",{class:"ball btn",onClick:t[3]||(t[3]=function(t){return e.$emit("toggle-fullscreen")})},[Object(n["y"])(Object(n["h"])("i",ht,"fullscreen",512),[[n["w"],!o.isFullscreen]]),Object(n["y"])(Object(n["h"])("i",ft,"fullscreen_exit",512),[[n["w"],o.isFullscreen]])])],2)}var jt={props:["isDarkMode","isTouchMode","isFullscreen"],emits:["toggle-darkMode","toggle-touchMode","toggle-fullscreen"],methods:{openAnchors:function(){j.emit("open-anchors")}}};o("5ecc");const Ot=m()(jt,[["render",pt],["__scopeId","data-v-a975ec02"]]);var vt=Ot,mt=function(e){return Object(n["q"])("data-v-bd33dc58"),e=e(),Object(n["p"])(),e},gt=mt((function(){return Object(n["h"])("i",{class:"material-icons"},"add",-1)})),Tt=[gt];function Nt(e,t,o,c,i,l){var s=Object(n["t"])("floor-block"),a=Object(n["t"])("node-renderer"),r=Object(n["t"])("textfield-group");return Object(n["o"])(),Object(n["g"])("div",{class:Object(n["m"])(["note-outer shadow-4",{offset:i.offset,fullscreen:o.isFullscreen}])},[Object(n["h"])("div",{class:"note",ref:"note",onContextmenu:t[1]||(t[1]=Object(n["z"])((function(){}),["prevent"]))},[(Object(n["o"])(!0),Object(n["g"])(n["a"],null,Object(n["r"])(l.note.CTS,(function(e,t){return Object(n["o"])(),Object(n["g"])(n["a"],{key:e.id},["floor"==e.NT?(Object(n["o"])(),Object(n["e"])(s,{key:0,selected:e.SL,children:e.CTS,level:2,location:[t]},null,8,["selected","children","location"])):(Object(n["o"])(),Object(n["e"])(a,{key:1,nodeObj:e,index:t,level:1,location:[]},null,8,["nodeObj","index"]))],64)})),128)),Object(n["k"])(r,{ref:"textfield",isAdding:i.isNodeAdding,onReturnNode:l.closeNodeAdder},null,8,["isAdding","onReturnNode"]),Object(n["h"])("div",{class:Object(n["m"])(["btn btn-normal adder-btn",{disabled:i.isNodeAdding}]),onClick:t[0]||(t[0]=function(){return l.openNodeAdder&&l.openNodeAdder.apply(l,arguments)})},Tt,2)],544)],2)}var yt=Object(n["h"])("div",{class:"mask"},null,-1);function Ct(e,t,o,c,i,l){var s=Object(n["t"])("floor-block",!0),a=Object(n["t"])("node-renderer"),r=Object(n["t"])("block-controls");return Object(n["o"])(),Object(n["g"])("div",{class:Object(n["m"])(["floor shadow-1",{"shadow-3":o.selected,"touch-mode":l.isTouchMode}]),onMouseenter:t[0]||(t[0]=function(){return e.onMouseEnter&&e.onMouseEnter.apply(e,arguments)}),onMouseleave:t[1]||(t[1]=function(){return e.onMouseLeave&&e.onMouseLeave.apply(e,arguments)})},[yt,(Object(n["o"])(!0),Object(n["g"])(n["a"],null,Object(n["r"])(o.children,(function(t,c){return Object(n["o"])(),Object(n["g"])(n["a"],{key:t.id},["floor"==t.NT?(Object(n["o"])(),Object(n["e"])(s,{key:0,children:t.CTS,selected:t.SL,level:o.level+1,location:o.location.concat([c]),onMouseInChild:e.onMouseLeave},null,8,["children","selected","level","location","onMouseInChild"])):(Object(n["o"])(),Object(n["e"])(a,{key:1,nodeObj:t,index:c,level:o.level,location:o.location},null,8,["nodeObj","index","level","location"]))],64)})),128)),Object(n["k"])(r,{disabled:!e.hover,isTouchMode:l.isTouchMode,selected:o.selected,location:o.location,parentType:"floor"},null,8,["disabled","isTouchMode","selected","location"])],34)}var kt={data:function(){return{initialContent:this.content,editing:!1,dbTouch:!1}},inject:["selectedNode"],props:["tagName","content","location","selected","color"],mixins:[K],methods:{selectEvent:function(){this.selected?(j.emit("fixedComponents-close"),this.selectedNode.location=null,this.selectedNode.type=null,this.selectedNode.tagName=null,this.getThisObj.SL=!1):(this.selectedNode.location&&this.getNodeObj({location:this.selectedNode.location,callback:function(e,t){e[t].SL=!1}}),this.selectedNode.location=this.location,this.selectedNode.type="basic-node",this.selectedNode.tagName=this.tagName,this.getThisObj.SL=!0)}},render:function(){var e=this;return Object(n["l"])(this.tagName,{contentEditable:!0,class:{selected:this.selected,editing:this.editing},style:{color:this.color},onContextmenu:function(t){t.preventDefault(),e.selectEvent()},onTouchstart:function(){e.dbTouch&&e.selectEvent(),e.dbTouch=!0,setTimeout((function(){e.dbTouch=!1}),300)},onClick:function(t){e.initialContent=t.target.innerText,e.editing=!0},onBlur:function(t){var o=t.target.innerText;o!=e.initialContent&&(e.getThisObj.CT=o),e.editing=!1}},this.content)}};const wt=kt;var St=wt,Lt={props:["level","content","location","selected","color"],components:[St],render:function(){var e;return e=this.level<6?"h"+this.level:"h5",Object(n["l"])(St,{tagName:e,id:this.content,content:this.content,color:this.color,selected:this.selected,location:this.location})}};const xt=Lt;var Mt=xt,_t=Object(n["h"])("div",{class:"mask"},null,-1);function Ft(e,t,o,c,i,l){var s=Object(n["t"])("list-block",!0),a=Object(n["t"])("basic-node"),r=Object(n["t"])("list-child"),d=Object(n["t"])("block-controls");return Object(n["o"])(),Object(n["g"])("div",{class:Object(n["m"])(["list",{"shadow-2":o.selected,hover:e.hover,empty:!o.children.length,"touch-mode":l.isTouchMode,nested:i.isNested}]),onMouseenter:t[0]||(t[0]=function(){return e.onMouseEnter&&e.onMouseEnter.apply(e,arguments)}),onMouseleave:t[1]||(t[1]=function(){return e.onMouseLeave&&e.onMouseLeave.apply(e,arguments)})},[_t,Object(n["k"])(r,{ordered:o.isOrdered},{default:Object(n["x"])((function(){return[(Object(n["o"])(!0),Object(n["g"])(n["a"],null,Object(n["r"])(o.children,(function(t,c){return Object(n["o"])(),Object(n["g"])(n["a"],{key:t.id},["list"==t.NT?(Object(n["o"])(),Object(n["e"])(s,{key:0,isOrdered:t.OL,selected:t.SL,children:t.CTS,location:o.location.concat([c]),onMouseInChild:e.onMouseLeave},null,8,["isOrdered","selected","children","location","onMouseInChild"])):(Object(n["o"])(),Object(n["e"])(a,{key:1,tagName:"li",content:t.CT,color:t.CL,selected:t.SL,location:o.location.concat([c])},null,8,["content","color","selected","location"]))],64)})),128))]})),_:1},8,["ordered"]),Object(n["k"])(d,{disabled:!e.hover,isTouchMode:l.isTouchMode,selected:o.selected,location:o.location,parentType:"list"},null,8,["disabled","isTouchMode","selected","location"])],34)}var Dt=function(e){return Object(n["q"])("data-v-1f86e1de"),e=e(),Object(n["p"])(),e},$t=Dt((function(){return Object(n["h"])("i",{class:"material-icons"},"add",-1)})),At=[$t],Et={class:"checkbox"},It=["checked"];function Bt(e,t,o,c,i,l){return Object(n["o"])(),Object(n["g"])("div",{class:Object(n["m"])(["controls",{disabled:o.disabled&&!o.isTouchMode,"touch-mode":o.isTouchMode}])},[Object(n["h"])("div",{class:"btn btn-normal adder-btn",onClick:t[0]||(t[0]=function(){return l.addNode&&l.addNode.apply(l,arguments)})},At),Object(n["h"])("label",Et,[Object(n["h"])("input",{type:"checkbox",ref:"checkbox",checked:o.selected,onChange:t[1]||(t[1]=function(){return l.selectEvent&&l.selectEvent.apply(l,arguments)})},null,40,It),Object(n["h"])("i",{class:"checkbox-icon",onTouchstart:t[2]||(t[2]=function(){return l._touchstart&&l._touchstart.apply(l,arguments)}),onTouchend:t[3]||(t[3]=function(){return l._touchend&&l._touchend.apply(l,arguments)})},null,32)])],2)}var Ut={data:function(){return{timeout:null}},props:["isTouchMode","disabled","selected","location","parentType"],inject:["selectedNode"],mixins:[K],methods:{_touchstart:function(){var e=this;this.timeout=setTimeout((function(){e.addNode()}),1e3)},_touchend:function(){clearTimeout(this.timeout)},selectEvent:function(){var e=this.$refs.checkbox.checked;this.getThisObj.SL=e,e?(this.selectedNode.location&&this.getNodeObj({location:this.selectedNode.location,callback:function(e,t){e[t].SL=!1}}),this.selectedNode.location=this.location,this.selectedNode.type=this.parentType,"list"==this.parentType&&(this.selectedNode.tagName=this.$parent.isNested?"nestedList":"notNestedList"),"table"==this.parentType&&j.emit("table-selected")):(this.selectedNode.location=null,this.selectedNode.type=null,this.selectedNode.tagName=null)},addNode:function(){var e=this;if("table"==this.parentType){for(var t=this.getThisObj.CTS[0].length,o=[],n=0;n<t;n++)o.push("");this.getThisObj.CTS.push(o)}else"details"==this.parentType?this.getThisObj.CTS.push({CT:"",CL:"#333",SL:!1}):(j.off("textfield-return-"+this.parentType),j.on("textfield-return-"+this.parentType,(function(t){t&&e.getThisObj.CTS.push(t),j.off("textfield-return-"+e.parentType)})),j.emit("note-offset"),j.emit("textfield-open",this.parentType))}}};o("4de0");const Vt=m()(Ut,[["render",Bt],["__scopeId","data-v-1f86e1de"]]);var Gt=Vt,qt={data:function(){return{hover:!1,setTimeout:null}},emits:["mouse-in-child"],methods:{onMouseEnter:function(){var e=this;this.setTimeout=setTimeout((function(){e.hover=!0}),400),this.location.length>1&&this.$emit("mouse-in-child")},onMouseLeave:function(){clearTimeout(this.setTimeout),this.selected||(this.hover=!1)}}};const Rt=qt;var Pt=Rt,Jt={name:"list-block",data:function(){return{isNested:null}},components:{BasicNode:St,BlockControls:Gt,listChild:{props:["ordered"],render:function(){return Object(n["l"])(this.ordered?"ol":"ul",this.$slots.default())}}},props:["children","isOrdered","location","selected"],inject:["isTouchMode"],mixins:[Pt],mounted:function(){var e=this.$el.parentNode;this.isNested="OL"==e.tagName||"UL"==e.tagName}};const Ht=m()(Jt,[["render",Ft]]);var zt=Ht,Kt=Object(n["h"])("div",{class:"mask"},null,-1);function Qt(e,t,o,c,i,l){var s=Object(n["t"])("table-row"),a=Object(n["t"])("block-controls");return Object(n["o"])(),Object(n["g"])("div",{class:Object(n["m"])(["table shadow-1",{"shadow-3":o.selected,"touch-mode":l.isTouchMode,hover:e.hover&&!l.isTouchMode}]),onMouseenter:t[0]||(t[0]=function(){return e.onMouseEnter&&e.onMouseEnter.apply(e,arguments)}),onMouseleave:t[1]||(t[1]=function(){return e.onMouseLeave&&e.onMouseLeave.apply(e,arguments)})},[Kt,Object(n["h"])("table",null,[Object(n["h"])("tbody",null,[(Object(n["o"])(!0),Object(n["g"])(n["a"],null,Object(n["r"])(o.children,(function(e,t){return Object(n["o"])(),Object(n["e"])(s,{key:e.id,children:e,location:o.location.concat(t)},null,8,["children","location"])})),128))])]),Object(n["k"])(a,{isTouchMode:l.isTouchMode,disabled:!e.hover,selected:o.selected,location:o.location,parentType:"table"},null,8,["isTouchMode","disabled","selected","location"])],34)}var Wt=["onBlur"];function Xt(e,t,o,c,i,l){return Object(n["o"])(),Object(n["g"])("tr",null,[(Object(n["o"])(!0),Object(n["g"])(n["a"],null,Object(n["r"])(o.children,(function(e,o){return Object(n["o"])(),Object(n["g"])("td",{key:e.id,onClick:t[0]||(t[0]=function(){return l.edit&&l.edit.apply(l,arguments)}),onBlur:function(e){return l.finishEdit(e,o)},contenteditable:"true"},Object(n["u"])(e),41,Wt)})),128))])}var Yt={mixins:[K],props:["children","location"],methods:{edit:function(e){var t=e.target;t.classList.add("editing")},finishEdit:function(e,t){var o=e.target;o.classList.remove("editing");var n=o.innerText;this.getThisObj[t]=n}}};const Zt=m()(Yt,[["render",Xt]]);var eo=Zt,to={props:["selected","children","location"],inject:["isTouchMode"],mixins:[Pt],components:{TableRow:eo,BlockControls:Gt}};const oo=m()(to,[["render",Qt]]);var no=oo;function co(e,t,o,c,i,l){var s=Object(n["t"])("basic-node"),a=Object(n["t"])("block-controls");return Object(n["o"])(),Object(n["g"])("div",{class:Object(n["m"])(["details",{"shadow-2":o.selected,hover:e.hover,"touch-mode":l.isTouchMode}]),onMouseenter:t[2]||(t[2]=function(){return e.onMouseEnter&&e.onMouseEnter.apply(e,arguments)}),onMouseleave:t[3]||(t[3]=function(){return e.onMouseLeave&&e.onMouseLeave.apply(e,arguments)})},[Object(n["h"])("summary",{class:"summary",contenteditable:"true",ref:"summary",onBlur:t[0]||(t[0]=function(){return l.finishEdit&&l.finishEdit.apply(l,arguments)})},Object(n["u"])(o.summary),545),Object(n["h"])("details",null,[Object(n["h"])("summary",{onContextmenu:t[1]||(t[1]=function(t){return e.$refs.summary.focus()}),style:{"line-height":"1.4"}},null,32),(Object(n["o"])(!0),Object(n["g"])(n["a"],null,Object(n["r"])(o.children,(function(e,t){return Object(n["o"])(),Object(n["e"])(s,{key:e.id,tagName:"p",content:e.CT,color:e.CL,selected:e.SL,location:o.location.concat([t])},null,8,["content","color","selected","location"])})),128))]),Object(n["k"])(a,{disabled:!e.hover,isTouchMode:l.isTouchMode,selected:o.selected,location:o.location,parentType:"details"},null,8,["disabled","isTouchMode","selected","location"])],34)}var io={components:{BasicNode:St,BlockControls:Gt},mixins:[K,Pt],inject:["isTouchMode"],props:["children","summary","location","selected"],methods:{finishEdit:function(e){var t=e.target,o=t.innerText;this.getThisObj.SUM=o}}};o("41e6");const lo=m()(io,[["render",co],["__scopeId","data-v-b9223648"]]);var so=lo,ao={components:{Heading:Mt,BasicNode:St,ListBlock:zt,TableBlock:no},props:["nodeObj","index","location","level"],render:function(){var e,t={location:this.location.concat([this.index]),selected:this.nodeObj.SL};switch(this.nodeObj.NT){case"h":e=Mt,t.level=this.level,t.content=this.nodeObj.CT,t.color=this.nodeObj.CL;break;case"list":e=zt,t.isOrdered=this.nodeObj.OL,t.children=this.nodeObj.CTS;break;case"table":e=no,t.children=this.nodeObj.CTS;break;case"details":e=so,t.summary=this.nodeObj.SUM,t.children=this.nodeObj.CTS;break;default:e=St,t.tagName=this.nodeObj.NT,t.content=this.nodeObj.CT,t.color=this.nodeObj.CL}return Object(n["l"])(e,t)}};const ro=ao;var uo=ro,bo={name:"floor-block",components:{BlockControls:Gt,NodeRenderer:uo},props:["level","location","children","selected"],inject:["isTouchMode"],mixins:[Pt]};const ho=m()(bo,[["render",Ct]]);var fo=ho,po={components:{FloorBlock:fo,NodeRenderer:uo,TextfieldGroup:ze},data:function(){return{isNodeAdding:!1,offset:!1}},props:["isFullscreen"],inject:["note"],created:function(){var e=this;addEventListener("keydown",(function(t){var o=t.altKey,n=t.key;o&&"a"==n&&(t.preventDefault(),e.openNodeAdder())}))},mounted:function(){var e=this;j.on("note-offset",(function(){e.offset=!0})),j.on("note-offset-cancel",(function(){e.offset=!1}))},methods:{openNodeAdder:function(){this.isNodeAdding=!0,this.$refs.textfield.focus()},closeNodeAdder:function(e){this.isNodeAdding=!1,e&&this.note.CTS.push(e)}},watch:{isFullscreen:function(e,t){var o=this;e!=t&&(this.$refs.note.style.display="none",setTimeout((function(){o.$refs.note.style.display="block"}),1200))}}};o("db92");const jo=m()(po,[["render",Nt],["__scopeId","data-v-bd33dc58"]]);var Oo=jo;function vo(e,t,o,c,i,l){var s=Object(n["t"])("textfield-group-fixed"),a=Object(n["t"])("colors"),r=Object(n["t"])("table-setter");return Object(n["o"])(),Object(n["g"])("div",null,[Object(n["k"])(s,{onClose:l.close,disabled:i.textfieldGroupDisabled},null,8,["onClose","disabled"]),Object(n["k"])(a,{onClose:l.close,disabled:i.colorsDisabled},null,8,["onClose","disabled"]),Object(n["k"])(r,{onClose:l.close,disabled:i.tableSetterDisabled},null,8,["onClose","disabled"])])}var mo=function(e){return Object(n["q"])("data-v-0fff61ff"),e=e(),Object(n["p"])(),e},go={class:"textfield-group fixed-component fixed"},To={class:"selector",ref:"selector"},No=mo((function(){return Object(n["h"])("option",{value:"h"},"标题",-1)})),yo=mo((function(){return Object(n["h"])("option",{value:"p"},"段落",-1)})),Co=mo((function(){return Object(n["h"])("option",{value:"hr"},"割线",-1)})),ko=mo((function(){return Object(n["h"])("option",{value:"floor"},"层次",-1)})),wo=mo((function(){return Object(n["h"])("option",{value:"ol"},"序列",-1)})),So=mo((function(){return Object(n["h"])("option",{value:"ul"},"乱列",-1)})),Lo=mo((function(){return Object(n["h"])("option",{value:"table"},"表格",-1)})),xo=mo((function(){return Object(n["h"])("option",{value:"details"},"详情",-1)})),Mo=[No,yo,Co,ko,wo,So,Lo,xo],_o={class:"selector",ref:"selector4List"},Fo=mo((function(){return Object(n["h"])("option",{value:"li"},"列项",-1)})),Do=mo((function(){return Object(n["h"])("option",{value:"ol"},"序列",-1)})),$o=mo((function(){return Object(n["h"])("option",{value:"ul"},"乱列",-1)})),Ao=[Fo,Do,$o],Eo={class:"textfield",contenteditable:"true",ref:"inputter"},Io=mo((function(){return Object(n["h"])("i",{class:"material-icons"},"close",-1)})),Bo=[Io];function Uo(e,t,o,c,i,l){return Object(n["o"])(),Object(n["e"])(n["b"],{name:"slide"},{default:Object(n["x"])((function(){return[Object(n["y"])(Object(n["h"])("div",go,[Object(n["y"])(Object(n["h"])("select",To,Mo,512),[[n["w"],!l.isFromNestedList]]),Object(n["y"])(Object(n["h"])("select",_o,Ao,512),[[n["w"],l.isFromNestedList]]),Object(n["h"])("div",Eo,null,512),Object(n["h"])("div",{class:"textfield-closer closer",onClick:t[0]||(t[0]=function(){return l.closeTextfield&&l.closeTextfield.apply(l,arguments)})},Bo)],512),[[n["w"],!o.disabled]])]})),_:1})}var Vo={data:function(){return{commandFrom:""}},props:["disabled"],inject:["selectedNode"],computed:{isFromNestedList:function(){return"list"==this.commandFrom||["li","nestedList"].includes(this.selectedNode.tagName)}},mounted:function(){var e=this;j.on("textfield-open",(function(t){e.commandFrom=t}))},methods:{closeTextfield:function(){this.$emit("close","textfieldGroup");var e=this.isFromNestedList?this.$refs.selector4List.value:this.$refs.selector.value,t=this.$refs.inputter.innerText,o=Pe(e,t);j.emit("textfield-return-"+this.commandFrom,o),this.$refs.inputter.blur(),this.$refs.inputter.innerText=""}}};o("67b0");const Go=m()(Vo,[["render",Uo],["__scopeId","data-v-0fff61ff"]]);var qo=Go,Ro=function(e){return Object(n["q"])("data-v-e174cd3a"),e=e(),Object(n["p"])(),e},Po={class:"colors fixed-component"},Jo=["onClick"],Ho={class:"input-group"},zo=Ro((function(){return Object(n["h"])("i",{class:"material-icons"},"close",-1)})),Ko=[zo];function Qo(e,t,o,c,i,l){return Object(n["o"])(),Object(n["e"])(n["b"],{name:"slide"},{default:Object(n["x"])((function(){return[Object(n["y"])(Object(n["h"])("div",Po,[(Object(n["o"])(!0),Object(n["g"])(n["a"],null,Object(n["r"])(i.colors,(function(e){return Object(n["o"])(),Object(n["g"])("div",{key:e.id,class:"color btn btn-shallow",style:Object(n["n"])({"background-color":e}),onClick:function(t){return l.setColor(e)}},null,12,Jo)})),128)),Object(n["h"])("div",Ho,[Object(n["h"])("div",{class:"hint",onClick:t[0]||(t[0]=function(t){return e.$refs.colorInputter.click()})},"#"),Object(n["y"])(Object(n["h"])("input",{type:"color",ref:"colorInputter","onUpdate:modelValue":t[1]||(t[1]=function(e){return i.colorValue=e})},null,512),[[n["w"],!1],[n["v"],i.colorValue]]),Object(n["y"])(Object(n["h"])("input",{class:"inputter",placeholder:"******",type:"text",maxlength:"8","onUpdate:modelValue":t[2]||(t[2]=function(e){return i.colorValue=e})},null,512),[[n["v"],i.colorValue]])]),Object(n["h"])("div",{class:"closer",onClick:t[3]||(t[3]=function(t){return e.$emit("close","colors")})},Ko)],512),[[n["w"],!o.disabled]])]})),_:1})}o("5319");var Wo={data:function(){return{colors:["#D50000","#FFD600","#333"],colorValue:"",timeout:null}},props:["disabled"],inject:["selectedNode"],mixins:[K],methods:{setColor:function(e){this.getNodeObj({location:this.selectedNode.location,callback:function(t,o){t[o].CL=e}})}},watch:{colorValue:function(e){var t=this;clearTimeout(this.timeout);var o=e.replace("#","");this.timeout=setTimeout((function(){t.setColor("#"+o)}),300)}}};o("1f99");const Xo=m()(Wo,[["render",Qo],["__scopeId","data-v-e174cd3a"]]);var Yo=Xo,Zo=function(e){return Object(n["q"])("data-v-3241915f"),e=e(),Object(n["p"])(),e},en={class:"table-setter fixed-component"},tn={class:"input-group"},on=Zo((function(){return Object(n["h"])("i",{class:"hint material-icons"},"view_headline",-1)})),nn={class:"input-group"},cn=Zo((function(){return Object(n["h"])("i",{class:"hint material-icons"},"view_column",-1)})),ln=Zo((function(){return Object(n["h"])("i",{class:"material-icons"},"check",-1)})),sn=[ln],an=Zo((function(){return Object(n["h"])("i",{class:"material-icons"},"close",-1)})),rn=[an];function dn(e,t,o,c,i,l){return Object(n["o"])(),Object(n["e"])(n["b"],{name:"slide"},{default:Object(n["x"])((function(){return[Object(n["y"])(Object(n["h"])("div",en,[Object(n["h"])("div",tn,[on,Object(n["y"])(Object(n["h"])("input",{class:"inputter",type:"text",placeholder:" > 0 ","onUpdate:modelValue":t[0]||(t[0]=function(e){return i.row=e})},null,512),[[n["v"],i.row]])]),Object(n["h"])("div",nn,[cn,Object(n["y"])(Object(n["h"])("input",{class:"inputter",type:"text",placeholder:" > 0 ",maxlength:"3","onUpdate:modelValue":t[1]||(t[1]=function(e){return i.col=e})},null,512),[[n["v"],i.col]])]),Object(n["h"])("div",{class:"closer",onClick:t[2]||(t[2]=function(){return l.tableSet&&l.tableSet.apply(l,arguments)})},sn),Object(n["h"])("div",{class:"closer",onClick:t[3]||(t[3]=function(t){return e.$emit("close","tableSetter")})},rn)],512),[[n["w"],!o.disabled]])]})),_:1})}var un={data:function(){return{row:1,col:1,targetNode:null,timeout:null}},props:["disabled"],inject:["selectedNode"],mixins:[K],mounted:function(){var e=this;addEventListener("keydown",(function(t){"Enter"==t.key&&e.tableSet()})),j.on("table-selected",this.tableGet)},methods:{tableGet:function(){var e=this;this.getNodeObj({location:this.selectedNode.location,callback:function(t,o){e.targetNode=t[o]}}),this.row=this.targetNode.CTS.length,this.col=this.targetNode.CTS[0].length},tableSet:function(){var e=this.targetNode.CTS.length,t=this.targetNode.CTS[0].length,o=Math.abs(this.row-e),n=Math.abs(this.col-t);if(this.col>t){var c,i=Object(f["a"])(this.targetNode.CTS);try{for(i.s();!(c=i.n()).done;)for(var l=c.value,s=0;s<n;s++)l.push("")}catch(O){i.e(O)}finally{i.f()}}else{var a,r=Object(f["a"])(this.targetNode.CTS);try{for(r.s();!(a=r.n()).done;)for(var d=a.value,u=0;u<n;u++)d.pop()}catch(O){r.e(O)}finally{r.f()}}if(this.row>e){for(var b=[],h=0;h<this.col;h++)b.push("");for(var p=0;p<o;p++)this.targetNode.CTS.push([].concat(b))}else for(var j=0;j<o;j++)this.targetNode.CTS.pop()}},watch:{disabled:function(e){e?this.targetNode=null:this.tableGet()},row:function(e){var t=this;e<1?this.timeout=setTimeout((function(){t.row=1}),1e3):clearTimeout(this.timeout)},col:function(e){var t=this;e<1?this.timeout=setTimeout((function(){t.col=1}),1e3):clearTimeout(this.timeout)}}};o("96ce");const bn=m()(un,[["render",dn],["__scopeId","data-v-3241915f"]]);var hn=bn,fn={data:function(){return{textfieldGroupDisabled:!0,colorsDisabled:!0,tableSetterDisabled:!0}},components:{TextfieldGroupFixed:qo,Colors:Yo,TableSetter:hn},methods:{close:function(e){this[e+"Disabled"]=!0,j.emit("note-offset-cancel")}},mounted:function(){var e=this;j.on("textfield-open",(function(){e.colorsDisabled=!0,e.tableSetterDisabled=!0,e.textfieldGroupDisabled=!1})),j.on("colors-open",(function(){e.tableSetterDisabled=!0,e.textfieldGroupDisabled=!0,e.colorsDisabled=!1})),j.on("tableSetter-open",(function(){e.colorsDisabled=!0,e.textfieldGroupDisabled=!0,e.tableSetterDisabled=!1})),j.on("fixedComponents-close",(function(){e.colorsDisabled=!0,e.textfieldGroupDisabled=!0,e.tableSetterDisabled=!0,j.emit("note-offset-cancel")}))}};o("04ce");const pn=m()(fn,[["render",vo],["__scopeId","data-v-4f43f3bc"]]);var jn=pn,On={class:"msgbar-outer"};function vn(e,t,o,c,i,l){return Object(n["o"])(),Object(n["e"])(n["b"],{name:"slide"},{default:Object(n["x"])((function(){return[Object(n["y"])(Object(n["h"])("div",On,[Object(n["h"])("div",{class:Object(n["m"])(["msgbar",{active:i.active}]),onClick:t[0]||(t[0]=function(){return l.close&&l.close.apply(l,arguments)})},Object(n["u"])(i.msg),3)],512),[[n["w"],i.active]])]})),_:1})}var mn={data:function(){return{active:!1,msg:""}},methods:{close:function(){this.active=!1}},mounted:function(){var e=this;j.on("show-msg",(function(t){e.msg=t,e.active=!0}))},watch:{active:function(e){var t=this;e&&setTimeout((function(){t.close()}),3e3)}}};o("9e12");const gn=m()(mn,[["render",vn]]);var Tn=gn,Nn={NM:"Example",CTS:[{NT:"h",CT:"这是一个大标题",CL:"#333",SL:!1},{NT:"hr",SL:!1},{NT:"p",CT:"这是一个段落",CL:"#333",SL:!1},{NT:"floor",SL:!1,CTS:[{NT:"h",CT:"这是层次中的大标题",CL:"#333",SL:!1},{NT:"p",CT:"这是一个段落",CL:"#333",SL:!1},{NT:"floor",SL:!1,CTS:[{NT:"h",CT:"这是层次中的大标题",CL:"#333",SL:!1},{NT:"p",CT:"这是一个段落",CL:"#333",SL:!1}]}]},{NT:"list",OL:!0,SL:!1,CTS:[{NT:"li",CT:"这是一个列表项",CL:"#333",SL:!1},{NT:"li",CT:"这是一个列表项",CL:"#333",SL:!1},{NT:"list",OL:!1,SL:!1,CTS:[{NT:"li",CT:"嵌套列表内的列表项",CL:"#333",SL:!1},{NT:"li",CT:"嵌套列表内的列表项",CL:"#333",SL:!1}]}]},{NT:"table",SL:!1,CTS:[["表格项","表格项","表格项","表格项"],["表格项","表格项","表格项","表格项"]]},{NT:"details",SL:!1,SUM:"这是一个详情块",CTS:[{CT:"这是一个段落",CL:"#333",SL:!1},{CT:"这是一个段落",CL:"#333",SL:!1}]}]},yn={name:"App",components:{Anchors:T,Note:Oo,Uploader:ct,ControlBalls:vt,ToolBar:Z,Msgbar:Tn,FixedComponents:jn},data:function(){return{note:Nn,selectedNode:{location:null,type:null,tagName:null},isDarkMode:!1,isTouchMode:!1,isFullscreen:!1}},provide:function(){var e=this;return{note:this.note,selectedNode:this.selectedNode,isTouchMode:Object(n["c"])((function(){return e.isTouchMode}))}}};o("5340");const Cn=m()(yn,[["render",c]]);var kn=Cn,wn=(o("5143"),o("8f09"),o("38b9"),o("afd3"),o("86be"),o("61fd"),o("8d2a"),o("cde1"),o("a454"),o("584d"),o("9483"));Object(wn["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var Sn=Object(n["d"])(kn);Sn.config.unwrapInjectedRef=!0,Sn.mount("#app")},"584d":function(e,t,o){},"5ecc":function(e,t,o){"use strict";o("233d")},"61fd":function(e,t,o){},"663f":function(e,t,o){},"67b0":function(e,t,o){"use strict";o("c9b3")},7564:function(e,t,o){"use strict";o("4d83")},"780f":function(e,t,o){"use strict";o("524f")},"80b7":function(e,t,o){},"86be":function(e,t,o){},"86d3":function(e,t,o){},8942:function(e,t,o){},"8d2a":function(e,t,o){},"8f09":function(e,t,o){},"8f78":function(e,t,o){},"92a9":function(e,t,o){"use strict";o("663f")},"96ce":function(e,t,o){"use strict";o("ecd4")},"9e12":function(e,t,o){"use strict";o("0abb")},a454:function(e,t,o){},a4d1:function(e,t,o){},afd3:function(e,t,o){},b0f9:function(e,t,o){},c9b3:function(e,t,o){},cde1:function(e,t,o){},d59f:function(e,t,o){"use strict";o("dc44")},db92:function(e,t,o){"use strict";o("b0f9")},dc44:function(e,t,o){},ecd4:function(e,t,o){}});
//# sourceMappingURL=app.acfc45d8.js.map